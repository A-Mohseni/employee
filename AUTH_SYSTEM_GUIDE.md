# ุฑุงูููุง ุณุณุชู ุงุญุฑุงุฒ ููุช (ุจุฏูู ฺฉุฏ ุฏุนูุช)

## ๐ **ุชุบุฑุงุช ุงุนูุงู ุดุฏู**

### โ **ุญุฐู ุดุฏู:**
- โ `POST /auth/register` - ุซุจุช ูุงู ุนููู
- โ `POST /auth/register-with-invite` - ุซุจุช ูุงู ุจุง ฺฉุฏ ุฏุนูุช
- โ `POST /invite-codes/` - ุงุฌุงุฏ ฺฉุฏ ุฏุนูุช
- โ `GET /invite-codes/` - ูุดุงูุฏู ฺฉุฏูุง ุฏุนูุช
- โ `DELETE /invite-codes/{code}` - ุญุฐู ฺฉุฏ ุฏุนูุช

### โ **ุงุถุงูู ุดุฏู:**
- โ `POST /auth/bootstrap-admin` - ุงุฌุงุฏ ุงููู ุงุฏูู
- โ `POST /auth/admin-login` - ูุฑูุฏ ุงุฏููโูุง

## ๐ง **ูุญูู ุฑุงูโุงูุฏุงุฒ**

### **ุฑูุด 1: ุงุณุชูุงุฏู ุงุฒ Script (ูพุดููุงุฏ)**
```bash
# ุงุฌุฑุง script ุจุฑุง ุงุฌุงุฏ ุงุฏูู
python3 create_super_admin.py
```

### **ุฑูุด 2: ุงุณุชูุงุฏู ุงุฒ Endpoint**
```bash
# ุงุฌุงุฏ ุงููู ุงุฏูู
curl -X POST "http://localhost:8000/auth/bootstrap-admin" \
  -H "Content-Type: application/json" \
  -d '{
    "employee_id": "00001",
    "password": "admin123!",
    "full_name": "ูุฏุฑ ุงุตู",
    "phone": "09123456789",
    "email": "admin@company.com"
  }'
```

### **ุฑูุด 3: ุฎูุฏฺฉุงุฑ ุฏุฑ Startup**
- ุงุฏูู ูพุดโูุฑุถ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุฑ startup ุงุฌุงุฏ ูโุดูุฏ
- Employee ID: `00001`
- Password: `admin123!`

## ๐ **ูุฑุขูุฏ ูุฏุฑุช ฺฉุงุฑุจุฑุงู**

### **1. ูุฑูุฏ ุงุฏูู**
```bash
curl -X POST "http://localhost:8000/auth/admin-login" \
  -H "Content-Type: application/json" \
  -d '{
    "employee_id": "00001",
    "password": "admin123!"
  }'
```

### **2. ุงุฌุงุฏ ฺฉุงุฑุจุฑ ุชูุณุท ุงุฏูู**
```bash
curl -X POST "http://localhost:8000/users/" \
  -H "Authorization: Bearer <admin_token>" \
  -H "Content-Type: application/json" \
  -d '{
    "employee_id": "12345",
    "full_name": "ุนู ุงุญูุฏ",
    "role": "employee",
    "phone": "09123456789",
    "email": "ali@company.com",
    "department": "IT",
    "position": "Developer"
  }'
```

### **3. ูุฑูุฏ ฺฉุงุฑุจุฑ ุนุงุฏ**
```bash
curl -X POST "http://localhost:8000/auth/login" \
  -H "Content-Type: application/json" \
  -d '{
    "employee_id": "12345",
    "password": "mypassword123"
  }'
```

## ๐ **ุณุทูุญ ุฏุณุชุฑุณ**

| ููุด | ุฏุณุชุฑุณ | ุชูุถุญ |
|-----|---------|-------|
| **admin1** | ฺฉุงูู | ุงุฏูู ุงุตู - ุฏุณุชุฑุณ ุจู ููู ฺุฒ |
| **admin2** | ูุญุฏูุฏ | ุงุฏูู ูุฑุน - ูุฏุฑุช ฺฉุงุฑุจุฑุงู |
| **manager_women** | ูุฏุฑุช ุฒูุงู | ูุฏุฑุช ฺฉุงุฑููุฏุงู ุฒู |
| **manager_men** | ูุฏุฑุช ูุฑุฏุงู | ูุฏุฑุช ฺฉุงุฑููุฏุงู ูุฑุฏ |
| **employee** | ูพุงู | ฺฉุงุฑููุฏ ุนุงุฏ |

## ๐ก๏ธ **ุงููุช**

### **ูฺฺฏโูุง ุงููุช:**
- โ ุฑูุฒูฺฏุงุฑ bcrypt ุจุฑุง ุฑูุฒ ุนุจูุฑ
- โ JWT ุจุง ุงูุถุง ุฏุฌุชุงู
- โ ูุฏุฑุช ุชูฺฉูโูุง ุฏุฑ ุฏุชุงุจุณ
- โ ฺฉูุชุฑู ุฏุณุชุฑุณ ุจุฑ ุงุณุงุณ ููุด
- โ ุบุฑูุนุงู ฺฉุฑุฏู ุชูฺฉูโูุง ูุฏู

### **ูุฏุฑุช ฺฉุงุฑุจุฑุงู:**
- โ ููุท ุงุฏููโูุง ูโุชูุงููุฏ ฺฉุงุฑุจุฑ ุงุฌุงุฏ ฺฉููุฏ
- โ ฺฉูุชุฑู ฺฉุงูู ุฑู ููุดโูุง
- โ ูุฏุฑุช ุฏูพุงุฑุชูุงูโูุง
- โ ูุงฺฏ ฺฉุงูู ุชูุงู ุนููุงุช

## ๐ **ูุฏุฑุช ุฏุชุงุจุณ**

### **Collections:**
- `admins` - ุงุทูุงุนุงุช ุงุฏููโูุง
- `employees` - ุงุทูุงุนุงุช ฺฉุงุฑููุฏุงู
- `tokens` - ุชูฺฉูโูุง ูุนุงู

### **ุณุงุฎุชุงุฑ Admin:**
```json
{
  "_id": "ObjectId",
  "employee_id": "00001",
  "full_name": "ูุฏุฑ ุงุตู",
  "password_hash": "$2b$12$...",
  "role": "admin1",
  "status": "active",
  "phone": "09123456789",
  "email": "admin@company.com",
  "is_super_admin": true,
  "created_at": "2024-01-01T10:00:00",
  "updated_at": "2024-01-01T10:00:00"
}
```

## ๐จ **ูฺฉุงุช ููู**

### **โ๏ธ ุงููุช:**
1. **ุชุบุฑ ุฑูุฒ ุนุจูุฑ ูพุดโูุฑุถ** ุจุนุฏ ุงุฒ ุงููู ูุฑูุฏ
2. **ูุฏุฑุช ฺฉุงุฑุจุฑุงู** ููุท ุชูุณุท ุงุฏููโูุง
3. **ฺฉูุชุฑู ุฏูู ููุดโูุง** ู ุฏุณุชุฑุณโูุง

### **๐ ูุงฺฏโฺฏุฑ:**
- ุชูุงู ุนููุงุช ุงุญุฑุงุฒ ููุช ูุงฺฏ ูโุดููุฏ
- ุชุบุฑุงุช ููุดโูุง ุซุจุช ูโุดููุฏ
- ุฏุณุชุฑุณโูุง ุบุฑูุฌุงุฒ ุฑุฏุงุจ ูโุดููุฏ

## ๐ **Migration ุงุฒ ุณุณุชู ูุฏู**

ุงฺฏุฑ ุงุฒ ุณุณุชู ูุฏู ุงุณุชูุงุฏู ูโฺฉุฑุฏุฏ:

1. **ูพุดุชุจุงูโฺฏุฑ** ุงุฒ ุฏุชุงุจุณ
2. **ุงุฌุฑุง script** ุจุฑุง ุงุฌุงุฏ ุงุฏูู
3. **ุชุณุช** ุณุณุชู ุฌุฏุฏ
4. **ุญุฐู** endpoint register ูุฏู

## ๐ **ูพุดุชุจุงู**

ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุดฺฉู:
1. ุจุฑุฑุณ ูุงฺฏโูุง ุณุณุชู
2. ุชุณุช endpointโูุง ุงุญุฑุงุฒ ููุช
3. ุจุฑุฑุณ ูุถุนุช ุฏุชุงุจุณ
4. ุชูุงุณ ุจุง ุชู ุชูุณุนู

---

**๐ ุณุณุชู ุฌุฏุฏ ุขูุงุฏู ุงุณุชูุงุฏู ุงุณุช!**

## ๐ **Endpoint ูุง ููุฌูุฏ**

### **ุงุญุฑุงุฒ ููุช:**
- `POST /auth/login` - ูุฑูุฏ ฺฉุงุฑููุฏุงู
- `POST /auth/admin-login` - ูุฑูุฏ ุงุฏููโูุง
- `POST /auth/logout` - ุฎุฑูุฌ ุงุฒ ุณุณุชู
- `POST /auth/bootstrap-admin` - ุงุฌุงุฏ ุงููู ุงุฏูู

### **ูุฏุฑุช ฺฉุงุฑุจุฑุงู:**
- `GET /users/` - ูุดุงูุฏู ฺฉุงุฑุจุฑุงู (ุงุฏูู)
- `POST /users/` - ุงุฌุงุฏ ฺฉุงุฑุจุฑ (ุงุฏูู)
- `PUT /users/{user_id}` - ูุฑุงุด ฺฉุงุฑุจุฑ (ุงุฏูู)
- `DELETE /users/{user_id}` - ุญุฐู ฺฉุงุฑุจุฑ (ุงุฏูู)

### **ุฏุฑุฎูุงุณุช ูุฑุฎุต:**
- `POST /leave-requests/` - ุงุฌุงุฏ ุฏุฑุฎูุงุณุช (ฺฉุงุฑููุฏ)
- `GET /leave-requests/` - ูุดุงูุฏู ุฏุฑุฎูุงุณุชโูุง
- `POST /leave-requests/{id}/approve-phase1` - ุชุงุฏ ูุฑุญูู 1
- `POST /leave-requests/{id}/approve-phase2` - ุชุงุฏ ูุฑุญูู 2
- `POST /leave-requests/{id}/reject` - ุฑุฏ ุฏุฑุฎูุงุณุช

### **ฺฏุฒุงุฑุดโูุง:**
- `POST /reports/` - ุงุฌุงุฏ ฺฏุฒุงุฑุด (ฺฉุงุฑููุฏ)
- `GET /reports/` - ูุดุงูุฏู ฺฏุฒุงุฑุดโูุง
- `POST /reports/{id}/approve` - ุชุงุฏ ฺฏุฒุงุฑุด (ูุฏุฑ)
- `POST /reports/{id}/reject` - ุฑุฏ ฺฏุฒุงุฑุด (ูุฏุฑ)

### **ุฏุงุดุจูุฑุฏ:**
- `GET /dashboard/` - ูุดุงูุฏู ุขูุงุฑ ฺฉู (ูุฏุฑ+)
